<!DOCTYPE html>
<html lang="es"><head>
<script src="presentación_files/libs/clipboard/clipboard.min.js"></script>
<script src="presentación_files/libs/quarto-html/tabby.min.js"></script>
<script src="presentación_files/libs/quarto-html/popper.min.js"></script>
<script src="presentación_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="presentación_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="presentación_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="presentación_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="presentación_files/libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="presentación_files/libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.42">

  <meta name="author" content="Christian F. Badillo H.">
  <title>Sobrevivencia</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="presentación_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="presentación_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="presentación_files/libs/revealjs/dist/theme/quarto-8f3eebe07241f08526c91a7e9cbef8fd.css">
  <link href="presentación_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="presentación_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="presentación_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="presentación_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="presentación_files/libs/kePrint-0.0.1/kePrint.js"></script>

  <link href="presentación_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Sobrevivencia</h1>
  <p class="subtitle">Modelos de Sobrevivencia Bayesianos para Covid-19</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Christian F. Badillo H. 
</div>
        <p class="quarto-title-affiliation">
            IIMAS
          </p>
    </div>
</div>

  <p class="date">8 de mayo de 2025</p>
</section>
<section>
<section id="introducción-a-estadística-bayesiana" class="title-slide slide level1 center">
<h1>Introducción a Estadística Bayesiana</h1>

</section>
<section id="idea" class="slide level2">
<h2>Idea</h2>
<ul>
<li class="fragment">La estadística bayesiana es un enfoque de la estadística que utiliza el teorema de Bayes para actualizar la probabilidad de una hipótesis a medida que se dispone de nueva evidencia.</li>
<li class="fragment">En la estadística bayesiana, se considera que los parámetros son variables aleatorias y se les asigna una distribución de probabilidad a <strong>priori</strong>.</li>
<li class="fragment">A medida que se recopilan datos, se actualiza la distribución a priori utilizando el teorema de Bayes para obtener una distribución a <strong>posteriori</strong>.</li>
</ul>
</section>
<section id="teorema-de-bayes" class="slide level2 smaller">
<h2>Teorema de Bayes</h2>
<ul>
<li class="fragment">El teorema de Bayes se define como: <span class="math display">\[
p(\Theta | D) = \frac{p(D | \Theta) p(\Theta)}{p(D)} = \frac{p(D | \Theta) p(\Theta)}{\int_\Theta p(D | \Theta) p(\Theta) d\Theta}
\]</span></li>
<li class="fragment">Donde:
<ul>
<li class="fragment"><span class="math inline">\(p(\Theta | D)\)</span> es la distribución a posteriori de los parámetros <span class="math inline">\(\Theta\)</span> dado los datos <span class="math inline">\(D\)</span>.</li>
<li class="fragment"><span class="math inline">\(p(D | \Theta)\)</span> es la verosimilitud de los datos dado los parámetros.</li>
<li class="fragment"><span class="math inline">\(p(\Theta)\)</span> es la distribución a priori de los parámetros.</li>
<li class="fragment"><span class="math inline">\(p(D)\)</span> es la evidencia o la probabilidad marginal de los datos.</li>
</ul></li>
<li class="fragment">En general, la posteriori se puede calcular como: <span class="math display">\[
p(\Theta | D) \propto p(D | \Theta) p(\Theta)
\]</span></li>
</ul>
</section>
<section id="conjugación" class="slide level2">
<h2>Conjugación</h2>
<ul>
<li class="fragment"><p>Calcular la posterior es complicado, soluciones analíticas solo son posibles cuando el prior y la verosimilitud son conjugados, es decir, pertenecen a la misma familia exponencial.</p></li>
<li class="fragment"><p>Ejemplos de distribuciones conjugadas (prior-verosimilitud):</p>
<ul>
<li class="fragment">Beta-Binomial.</li>
<li class="fragment">Normal-Normal.</li>
<li class="fragment">Gamma-Poisson.</li>
<li class="fragment">Normal-InvGamma-Normal (Regresión Lineal).</li>
</ul></li>
</ul>
</section>
<section id="métodos-numéricos" class="slide level2 smaller">
<h2>Métodos Numéricos</h2>
<ul>
<li class="fragment"><p>En la práctica, la mayoría de los modelos no tienen una solución analítica para la posterior, por lo que se utilizan métodos numéricos tales como <strong>MCMC</strong> (Markov Chain Monte Carlo).</p></li>
<li class="fragment"><p>Existe software para implementar estos métodos, como:</p>
<ul>
<li class="fragment">Stan (<i class="fa-brands fa-r-project" aria-label="r-project"></i>, <i class="fa-brands fa-python" aria-label="python"></i>, <i class="fa-solid fa-terminal" aria-label="terminal"></i>, <i class="fa-brands fa-windows" aria-label="windows"></i>, <i class="fa-brands fa-apple" aria-label="apple"></i>).</li>
<li class="fragment">PyMC3 (<i class="fa-brands fa-python" aria-label="python"></i>. <i class="fa-brands fa-windows" aria-label="windows"></i>, <i class="fa-brands fa-apple" aria-label="apple"></i>).</li>
<li class="fragment">JAGS (<i class="fa-brands fa-r-project" aria-label="r-project"></i>, <i class="fa-brands fa-windows" aria-label="windows"></i>, <i class="fa-brands fa-apple" aria-label="apple"></i>).</li>
</ul></li>
<li class="fragment"><p><strong>Stan</strong> (Sampling through adaptive neighborhoods) es el software más utilizado en la actualidad dada su flexibilidad para implementar modelos complejos y su eficiencia con el uso de variantes de MCMC como <strong><em>HMC</em></strong> (Hamiltonian Monte Carlo) y <strong><em>NUTS</em></strong> (No-U-Turn Sampler) que permiten explorar el espacio de parámetros de manera más eficiente que los métodos tradicionales como el Metropolis-Hastings o Gibbs Sampling <span class="citation" data-cites="stan2024">(<a href="#/section" role="doc-biblioref" onclick="">Stan Development Team, 2024</a>)</span>.</p></li>
</ul>
</section></section>
<section>
<section id="metodología" class="title-slide slide level1 center">
<h1>Metodología</h1>

</section>
<section id="datos" class="slide level2 smaller">
<h2>Datos</h2>
<ul>
<li class="fragment">Datos de casos de Covid-19 en México desde el 1 de enero de 2022 hasta el 12 de diciembre de 2022. Los datos se obtuvieron del sitio web de Datos Abiertos de la Dirección General de Epidemiología del Gobierno de México<a href="#/footnotes" class="footnote-ref" id="fnref1" role="doc-noteref" data-footnote-href="#/fn1" onclick=""><sup>1</sup></a>.</li>
<li class="fragment">Un total de <span class="math inline">\(3, 195, 409\)</span> casos confirmados <a href="#/footnotes" class="footnote-ref" id="fnref2" role="doc-noteref" data-footnote-href="#/fn2" onclick=""><sup>2</sup></a> con <span class="math inline">\(26, 108\)</span> casos mortales y por tanto, una tasa de mortalidad de <span class="math inline">\(0.82 \%\)</span>.</li>
<li class="fragment">Se obtuvo una muestra estratificada de <span class="math inline">\(n=5000\)</span> casos de los cuales <span class="math inline">\(n=1000\)</span> son casos mortales y <span class="math inline">\(n=4000\)</span> son casos no mortales. Los estratos fueron seleccionados para las variables desbalanceadas en la población (sexo, intubación, hospitalización).</li>
<li class="fragment">Se elimino la variable de hospitalización dado que no presentaba casos mortales en pacientes que no fueron hospitalizados generando inestabilidad en su estimación.</li>
<li class="fragment">Se usaron 15 variables como regresores: <code>sexo</code>, <code>intubado</code>, <code>neumonia</code>, <code>edad</code>, <code>diabetes</code>, <code>epoc</code>, <code>asma</code>, <code>inmusupr</code>, <code>hipertension</code>, <code>otra_com</code>, <code>cardiovascular</code>, <code>obesidad</code>, <code>renal_cronica</code>, <code>tabaquismo</code> y <code>otro_caso</code>.</li>
</ul>
<aside></aside></section>
<section id="software" class="slide level2 smaller">
<h2>Software</h2>
<ul>
<li class="fragment">Se utilizó CMDStan para implementar los modelos, dado que contiene la versión de Stan más reciente (<code>v2.36.0</code>) y permite la ejecución de modelos en paralelo, lo que mejora la eficiencia del muestreo. Además, CMDStan es más ligero y fácil de instalar que otras versiones de Stan como RStan o PyStan.</li>
<li class="fragment">Para interactuar con CMDStan se utilizó el paquete <code>cmdstanr</code> de R, que permite ejecutar modelos de Stan desde R y obtener resultados en objetos de R. La versión de R utilizada fue <code>4.4.3</code>.</li>
<li class="fragment">Se usaron 4 cadenas para cada modelo, cada una con 1000 iteraciones de calentamiento (<strong><em>warmup</em></strong>) y 1000 iteraciones de muestreo (con semillas fijas) para los modelos paramétricos y 2000 iteraciones de muestreo para los modelos no paramétricos. El total de muestreo y cadenas se selecciono siguiendo las recomendaciones de <span class="citation" data-cites="gelman-2013">Gelman et&nbsp;al. (<a href="#/section" role="doc-biblioref" onclick="">2013</a>)</span>.</li>
<li class="fragment">Para la comparación de los modelos se uso la validación cruzada Leave-One-Out (LOO-CV), que es un método robusto para estimar la capacidad predictiva de un modelo <span class="citation" data-cites="vehtari-2016 vehtari-2015">(<a href="#/section" role="doc-biblioref" onclick="">Vehtari et&nbsp;al., 2015</a>, <a href="#/section" role="doc-biblioref" onclick="">2016</a>)</span>.</li>
</ul>
</section></section>
<section>
<section id="modelamiento" class="title-slide slide level1 center">
<h1>Modelamiento</h1>

</section>
<section id="estimadores-de-kaplan-meier" class="slide level2 smaller">
<h2>Estimadores de Kaplan-Meier</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">General</a></li><li><a href="#tabset-1-2">Sexo</a></li><li><a href="#tabset-1-3">Asma</a></li><li><a href="#tabset-1-4">Diabetes</a></li><li><a href="#tabset-1-5">Cardio</a></li><li><a href="#tabset-1-6">EPOC</a></li><li><a href="#tabset-1-7">Hipertensión</a></li><li><a href="#tabset-1-8">Inmunodef</a></li><li><a href="#tabset-1-9">Neumonía</a></li><li><a href="#tabset-1-10">Obsesidad</a></li><li><a href="#tabset-1-11">Renal</a></li><li><a href="#tabset-1-12">Fumador</a></li><li><a href="#tabset-1-13">Otro</a></li><li><a href="#tabset-1-14">Contacto</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div id="fig-km-general" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-general-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_general.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-general-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1: Estimador Kaplan-Meier General
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-2">
<div id="fig-km-sexo" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-sexo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_sexo.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-sexo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2: Estimador Kaplan-Meier por Sexo
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-3">
<div id="fig-km-asma" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-asma-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_asma.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-asma-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;3: Estimador Kaplan-Meier por Asma
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-4">
<div id="fig-km-diabetes" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-diabetes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_diabetes.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-diabetes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;4: Estimador Kaplan-Meier por Diabetes
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-5">
<div id="fig-km-cardiovascular" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-cardiovascular-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_cardiovascular.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-cardiovascular-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;5: Estimador Kaplan-Meier por Cardiovascular
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-6">
<div id="fig-km-epoc" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-epoc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_epoc.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-epoc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6: Estimador Kaplan-Meier por EPOC
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-7">
<div id="fig-km-hipertension" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-hipertension-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_hipertension.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-hipertension-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;7: Estimador Kaplan-Meier por Hipertensión
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-8">
<div id="fig-km-inmunodeficiencia" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-inmunodeficiencia-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_inmusupr.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-inmunodeficiencia-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;8: Estimador Kaplan-Meier por Inmunodeficiencia
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-9">
<div id="fig-km-neumonia" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-neumonia-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_neumonia.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-neumonia-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;9: Estimador Kaplan-Meier por Neumonía
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-10">
<div id="fig-km-obesidad" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-obesidad-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_obesidad.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-obesidad-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;10: Estimador Kaplan-Meier por Obesidad
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-11">
<div id="fig-km-renal-cronica" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-renal-cronica-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_renal_cronica.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-renal-cronica-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;11: Estimador Kaplan-Meier por Renal Crónica
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-12">
<div id="fig-km-tabaquismo" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-tabaquismo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_tabaquismo.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-tabaquismo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;12: Estimador Kaplan-Meier por Tabaquismo
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-13">
<div id="fig-km-otra_com" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-otra_com-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_otra_combor.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-otra_com-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;13: Estimador Kaplan-Meier por Otra Comorbilidad
</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-14">
<div id="fig-km-otra_caso" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-km-otra_caso-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/km_otro_caso.jpeg" class="panel-tab" height="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-km-otra_caso-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;14: Estimador Kaplan-Meier por Contacto con Caso Confirmado
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="modelo-de-cox" class="slide level2 smaller scrollable">
<h2>Modelo de Cox</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Estimadores</a></li><li><a href="#tabset-2-2">Curva de Sobrevivencia</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell">
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_o3zdx2qq4eyparmf5axn(i, j, css_id) {
          var table = document.getElementById("tinytable_o3zdx2qq4eyparmf5axn");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_o3zdx2qq4eyparmf5axn');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_o3zdx2qq4eyparmf5axn(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_o3zdx2qq4eyparmf5axn");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 0, j: 2 }, { i: 0, j: 6 }, { i: 0, j: 4 }, { i: 0, j: 3 }, { i: 0, j: 5 },  ], css_id: 'tinytable_css_8r081k1hs9k8s32frr6q',}, 
          { positions: [ { i: 20, j: 1 }, { i: 20, j: 2 }, { i: 20, j: 3 }, { i: 20, j: 5 }, { i: 20, j: 4 }, { i: 20, j: 6 },  ], css_id: 'tinytable_css_lbpsr6v7zwqh9z7akiiy',}, 
          { positions: [ { i: 16, j: 2 }, { i: 16, j: 1 }, { i: 16, j: 3 }, { i: 16, j: 5 }, { i: 16, j: 4 }, { i: 16, j: 6 },  ], css_id: 'tinytable_css_6cam0wmeybmeb7czqcsr',}, 
          { positions: [ { i: 3, j: 1 }, { i: 5, j: 1 }, { i: 7, j: 1 }, { i: 9, j: 1 }, { i: 6, j: 1 }, { i: 11, j: 1 }, { i: 13, j: 1 }, { i: 14, j: 1 }, { i: 15, j: 1 }, { i: 14, j: 3 }, { i: 17, j: 1 }, { i: 18, j: 1 }, { i: 19, j: 1 }, { i: 18, j: 3 }, { i: 8, j: 1 }, { i: 18, j: 5 }, { i: 10, j: 1 }, { i: 3, j: 2 }, { i: 12, j: 1 }, { i: 5, j: 2 }, { i: 6, j: 2 }, { i: 7, j: 2 }, { i: 8, j: 2 }, { i: 9, j: 2 }, { i: 10, j: 2 }, { i: 11, j: 2 }, { i: 12, j: 2 }, { i: 13, j: 2 }, { i: 14, j: 2 }, { i: 15, j: 2 }, { i: 14, j: 4 }, { i: 17, j: 2 }, { i: 18, j: 2 }, { i: 19, j: 2 }, { i: 18, j: 4 }, { i: 2, j: 1 }, { i: 18, j: 6 }, { i: 4, j: 1 }, { i: 3, j: 3 }, { i: 4, j: 3 }, { i: 5, j: 3 }, { i: 6, j: 3 }, { i: 7, j: 3 }, { i: 8, j: 3 }, { i: 9, j: 3 }, { i: 10, j: 3 }, { i: 11, j: 3 }, { i: 12, j: 3 }, { i: 13, j: 3 }, { i: 12, j: 5 }, { i: 15, j: 3 }, { i: 14, j: 5 }, { i: 17, j: 3 }, { i: 10, j: 4 }, { i: 19, j: 3 }, { i: 12, j: 4 }, { i: 2, j: 2 }, { i: 12, j: 6 }, { i: 4, j: 2 }, { i: 3, j: 4 }, { i: 4, j: 4 }, { i: 5, j: 4 }, { i: 6, j: 4 }, { i: 7, j: 4 }, { i: 8, j: 4 }, { i: 9, j: 4 }, { i: 2, j: 5 }, { i: 11, j: 4 }, { i: 4, j: 5 }, { i: 13, j: 4 }, { i: 6, j: 5 }, { i: 15, j: 4 }, { i: 14, j: 6 }, { i: 17, j: 4 }, { i: 10, j: 5 }, { i: 19, j: 4 }, { i: 4, j: 6 }, { i: 2, j: 3 }, { i: 6, j: 6 }, { i: 15, j: 5 }, { i: 3, j: 5 }, { i: 17, j: 5 }, { i: 5, j: 5 }, { i: 19, j: 5 }, { i: 7, j: 5 }, { i: 8, j: 5 }, { i: 9, j: 5 }, { i: 2, j: 6 }, { i: 11, j: 5 }, { i: 17, j: 6 }, { i: 13, j: 5 }, { i: 19, j: 6 }, { i: 7, j: 6 }, { i: 8, j: 6 }, { i: 9, j: 6 }, { i: 10, j: 6 }, { i: 11, j: 6 }, { i: 3, j: 6 }, { i: 2, j: 4 }, { i: 5, j: 6 }, { i: 15, j: 6 }, { i: 13, j: 6 },  ], css_id: 'tinytable_css_ll5clot5p1u7b4ox0nl5',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_6e89g68k11i0rlk80ft1',}, 
          { positions: [ { i: 1, j: 1 }, { i: 1, j: 3 }, { i: 1, j: 5 }, { i: 1, j: 4 }, { i: 1, j: 2 }, { i: 1, j: 6 },  ], css_id: 'tinytable_css_jtqdunr9iqxpv28wfobj',}, 
          { positions: [ { i: 20, j: 0 },  ], css_id: 'tinytable_css_pyhzbw46sg9xkc6bdjyt',}, 
          { positions: [ { i: 16, j: 0 },  ], css_id: 'tinytable_css_0dxyunzxxqplp0rah8bm',}, 
          { positions: [ { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 6, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 10, j: 0 }, { i: 11, j: 0 }, { i: 12, j: 0 }, { i: 13, j: 0 }, { i: 14, j: 0 }, { i: 15, j: 0 }, { i: 17, j: 0 }, { i: 18, j: 0 }, { i: 19, j: 0 },  ], css_id: 'tinytable_css_p1rw99s7f9cbicm7xwym',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_nvnycsjmbpxn99khqlcg',}, 
          { positions: [ { i: 1, j: 0 },  ], css_id: 'tinytable_css_lv14vmp7fosv0i2nspst',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_o3zdx2qq4eyparmf5axn(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_8r081k1hs9k8s32frr6q, .table th.tinytable_css_8r081k1hs9k8s32frr6q { text-align: center; text-align: center; border-top: solid #d3d8dc 0.1em; text-align: center; }
      .table td.tinytable_css_lbpsr6v7zwqh9z7akiiy, .table th.tinytable_css_lbpsr6v7zwqh9z7akiiy { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_6cam0wmeybmeb7czqcsr, .table th.tinytable_css_6cam0wmeybmeb7czqcsr { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_ll5clot5p1u7b4ox0nl5, .table th.tinytable_css_ll5clot5p1u7b4ox0nl5 { text-align: center; }
      .table td.tinytable_css_6e89g68k11i0rlk80ft1, .table th.tinytable_css_6e89g68k11i0rlk80ft1 { text-align: center; text-align: center; border-top: solid #d3d8dc 0.1em; text-align: center; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_jtqdunr9iqxpv28wfobj, .table th.tinytable_css_jtqdunr9iqxpv28wfobj { text-align: center; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_pyhzbw46sg9xkc6bdjyt, .table th.tinytable_css_pyhzbw46sg9xkc6bdjyt { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_0dxyunzxxqplp0rah8bm, .table th.tinytable_css_0dxyunzxxqplp0rah8bm { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_p1rw99s7f9cbicm7xwym, .table th.tinytable_css_p1rw99s7f9cbicm7xwym { text-align: left; }
      .table td.tinytable_css_nvnycsjmbpxn99khqlcg, .table th.tinytable_css_nvnycsjmbpxn99khqlcg { text-align: left; text-align: center; border-top: solid #d3d8dc 0.1em; text-align: center; }
      .table td.tinytable_css_lv14vmp7fosv0i2nspst, .table th.tinytable_css_lv14vmp7fosv0i2nspst { text-align: left; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_o3zdx2qq4eyparmf5axn" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
<tr>
<th scope="col" align="center" colspan="1"> </th>
<th scope="col" align="center" colspan="6">Modelo de Cox</th>
</tr>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Est.</th>
                <th scope="col">2.5 %</th>
                <th scope="col">97.5 %</th>
                <th scope="col">S.E.</th>
                <th scope="col">t</th>
                <th scope="col">p</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="7">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>sexo1</td>
                  <td>0.920</td>
                  <td>0.805</td>
                  <td>1.051</td>
                  <td>0.063</td>
                  <td>-1.224</td>
                  <td>0.2210</td>
                </tr>
                <tr>
                  <td>intubado1</td>
                  <td>1.225*</td>
                  <td>1.010</td>
                  <td>1.487</td>
                  <td>0.121</td>
                  <td>2.057</td>
                  <td>0.0397</td>
                </tr>
                <tr>
                  <td>neumonia1</td>
                  <td>0.532***</td>
                  <td>0.463</td>
                  <td>0.611</td>
                  <td>0.038</td>
                  <td>-8.927</td>
                  <td>&lt;1e-04</td>
                </tr>
                <tr>
                  <td>edad</td>
                  <td>1.036***</td>
                  <td>1.032</td>
                  <td>1.040</td>
                  <td>0.002</td>
                  <td>18.142</td>
                  <td>&lt;1e-04</td>
                </tr>
                <tr>
                  <td>diabetes1</td>
                  <td>0.951</td>
                  <td>0.819</td>
                  <td>1.104</td>
                  <td>0.072</td>
                  <td>-0.662</td>
                  <td>0.5081</td>
                </tr>
                <tr>
                  <td>epoc1</td>
                  <td>1.018</td>
                  <td>0.783</td>
                  <td>1.324</td>
                  <td>0.136</td>
                  <td>0.132</td>
                  <td>0.8953</td>
                </tr>
                <tr>
                  <td>asma1</td>
                  <td>1.135</td>
                  <td>0.640</td>
                  <td>2.014</td>
                  <td>0.332</td>
                  <td>0.433</td>
                  <td>0.6650</td>
                </tr>
                <tr>
                  <td>inmusupr1</td>
                  <td>0.806</td>
                  <td>0.593</td>
                  <td>1.097</td>
                  <td>0.127</td>
                  <td>-1.370</td>
                  <td>0.1706</td>
                </tr>
                <tr>
                  <td>hipertension1</td>
                  <td>0.894</td>
                  <td>0.770</td>
                  <td>1.037</td>
                  <td>0.068</td>
                  <td>-1.478</td>
                  <td>0.1395</td>
                </tr>
                <tr>
                  <td>otra_com1</td>
                  <td>0.817</td>
                  <td>0.638</td>
                  <td>1.046</td>
                  <td>0.103</td>
                  <td>-1.605</td>
                  <td>0.1084</td>
                </tr>
                <tr>
                  <td>cardiovascular1</td>
                  <td>1.366*</td>
                  <td>1.059</td>
                  <td>1.763</td>
                  <td>0.178</td>
                  <td>2.399</td>
                  <td>0.0164</td>
                </tr>
                <tr>
                  <td>obesidad1</td>
                  <td>0.921</td>
                  <td>0.743</td>
                  <td>1.141</td>
                  <td>0.101</td>
                  <td>-0.757</td>
                  <td>0.4489</td>
                </tr>
                <tr>
                  <td>renal_cronica1</td>
                  <td>0.640***</td>
                  <td>0.525</td>
                  <td>0.780</td>
                  <td>0.065</td>
                  <td>-4.417</td>
                  <td>&lt;1e-04</td>
                </tr>
                <tr>
                  <td>tabaquismo1</td>
                  <td>1.339*</td>
                  <td>1.007</td>
                  <td>1.779</td>
                  <td>0.194</td>
                  <td>2.010</td>
                  <td>0.0445</td>
                </tr>
                <tr>
                  <td>otro_caso1</td>
                  <td>1.403***</td>
                  <td>1.170</td>
                  <td>1.681</td>
                  <td>0.130</td>
                  <td>3.663</td>
                  <td>0.0002</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>4449</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>14621.7</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>14717.7</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.46</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="presentación_files/figure-revealjs/unnamed-chunk-3-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="modelo-exponencial" class="slide level2 smaller">
<h2>Modelo Exponencial</h2>
<ul>
<li class="fragment"><p>Los modelos de riesgo proporcional se definen como: <span class="math display">\[
h(t|x) = h_0(t) \exp(x^t\beta)
\]</span></p></li>
<li class="fragment"><p>Donde:</p>
<ul>
<li class="fragment"><span class="math inline">\(h(t|x)\)</span> es la función de riesgo en el tiempo <span class="math inline">\(t\)</span> dado el vector de covariables <span class="math inline">\(x\)</span>.</li>
<li class="fragment"><span class="math inline">\(h_0(t)\)</span> es la función de riesgo base.</li>
<li class="fragment"><span class="math inline">\(\beta\)</span> es el vector de coeficientes a estimar.</li>
</ul></li>
<li class="fragment"><p>En el modelo exponencial, la función de riesgo base es constante y se define como: <span class="math display">\[
h_0(t) = \lambda
\]</span></p></li>
<li class="fragment"><p>Entonces el modelo exponencial se define como: <span class="math display">\[
h(t|x) = \lambda \exp(x^t\beta)
\]</span></p></li>
</ul>
</section>
<section id="modelo-exponencial-1" class="slide level2 smaller">
<h2>Modelo Exponencial</h2>
<ul>
<li class="fragment">La verosimilitud del modelo exponencial se define como: <span class="math display">\[\begin{align*}
\mathcal{L}(\lambda, \beta | t, x) &amp;= \prod_{i=1}^n \left[\lambda \exp(x_i^t\beta) \exp(- t_i \lambda \exp(x_i^t\beta)) \right] ^{\nu_i} \left[ \exp(-t_i \lambda \exp(x_i^t\beta)) \right] ^{1 - \nu_i} \\
&amp;= \lambda^{\sum_{i=1}^n \nu_i}  \exp \left( \sum_{i=1}^n \nu_i x_i^t\beta \right) \exp \left(- \lambda \sum_{i=1}^n t_i \exp(x_i^t\beta) \right) \\
\end{align*}\]</span></li>
<li class="fragment">Nuestro Prior para <span class="math inline">\(\beta\)</span> es: <span class="math display">\[
\beta \sim \mathcal{N}_n (0, \sigma^2 I_n),  \quad \sigma  =  2.
\]</span></li>
<li class="fragment">Nuestro Prior para <span class="math inline">\(\lambda\)</span> es:<br>
<span class="math display">\[
\lambda \sim \mathcal{G}amma(\alpha, \beta), \quad \alpha = 1, \quad \beta = 4.
\]</span></li>
</ul>
</section>
<section id="prior-de-lambda" class="slide level2">
<h2>Prior de <span class="math inline">\(\lambda\)</span></h2>

<img data-src="presentación_files/figure-revealjs/unnamed-chunk-4-1.png" width="960" class="r-stretch"></section>
<section id="resultados-del-modelo-exponencial" class="slide level2 smaller scrollable">
<h2>Resultados del Modelo Exponencial</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Cadenas</a></li><li><a href="#tabset-3-2">Posteriores</a></li><li><a href="#tabset-3-3">Correlación</a></li><li><a href="#tabset-3-4">Curva de Sobrevivencia</a></li><li><a href="#tabset-3-5">Resumen</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div id="fig-chains-exp" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-chains-exp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/exp_model_img/chains.png" class="panel-tab" height="450">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-chains-exp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;15: Cadenas del Modelo Exponencial.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-3-2">
<div id="fig-post-exp" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-post-exp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/exp_model_img/posterior_marginal.png" class="panel-tab" height="450">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-post-exp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;16: Posteriores Marginales del Modelo Exponencial.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-3-3">
<div id="fig-cor-exp" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-cor-exp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/exp_model_img/param_corr.png" class="panel-tab" height="450">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cor-exp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;17: Correlación Posterior del Modelo Exponencial.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-3-4">
<div id="fig-surv-exp" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-surv-exp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/exp_model_img/curves_surv_post.png" class="panel-tab" height="450">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-surv-exp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;18: Curvas de Sobrevivencia Posteriores del Modelo Exponencial.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-3-5">
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="width: auto !important;  margin-left: auto; margin-right: auto; font-size: 18px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">Variable</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">Media</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">Mediana</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">HDI.Inf.</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">HDI.Sup.</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">Rhat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Sexo</td>
<td style="text-align: right; width: 2cm;">0.8841155</td>
<td style="text-align: right; width: 2cm;">0.8845882</td>
<td style="text-align: right; width: 2cm;">0.7774838</td>
<td style="text-align: right; width: 2cm;">1.0071996</td>
<td style="text-align: right; width: 2cm;">1.0000823</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; background-color: rgba(195, 255, 255, 255) !important;">Intubado</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.2391555</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.2397863</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0313271</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.4945922</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0001671</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; background-color: rgba(195, 255, 255, 255) !important;">Neumonia</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.5070529</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.5071538</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.4424911</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.5804034</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0036570</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; background-color: rgba(195, 255, 255, 255) !important;">Edad</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0411737</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0411668</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0372886</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0451037</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0008884</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Diabetes</td>
<td style="text-align: right; width: 2cm;">0.9326648</td>
<td style="text-align: right; width: 2cm;">0.9320942</td>
<td style="text-align: right; width: 2cm;">0.8090104</td>
<td style="text-align: right; width: 2cm;">1.0760078</td>
<td style="text-align: right; width: 2cm;">1.0014353</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">EPOC</td>
<td style="text-align: right; width: 2cm;">0.9767869</td>
<td style="text-align: right; width: 2cm;">0.9740342</td>
<td style="text-align: right; width: 2cm;">0.7687572</td>
<td style="text-align: right; width: 2cm;">1.2801329</td>
<td style="text-align: right; width: 2cm;">1.0011719</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Asma</td>
<td style="text-align: right; width: 2cm;">1.0079122</td>
<td style="text-align: right; width: 2cm;">0.9970430</td>
<td style="text-align: right; width: 2cm;">0.6179481</td>
<td style="text-align: right; width: 2cm;">1.7364336</td>
<td style="text-align: right; width: 2cm;">0.9995937</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; background-color: rgba(195, 255, 255, 255) !important;">Inmunodef.</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.6432997</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.6403157</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.4820471</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.8821969</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0009576</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Hipertensión</td>
<td style="text-align: right; width: 2cm;">0.9033493</td>
<td style="text-align: right; width: 2cm;">0.9031993</td>
<td style="text-align: right; width: 2cm;">0.7824927</td>
<td style="text-align: right; width: 2cm;">1.0486390</td>
<td style="text-align: right; width: 2cm;">1.0013354</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; background-color: rgba(195, 255, 255, 255) !important;">Otra.Comorb.</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.7565729</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.7547939</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.5988804</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.9695874</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0015843</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; background-color: rgba(195, 255, 255, 255) !important;">Cardiovasc.</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.3434491</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.3381024</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0592217</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.7555691</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0025665</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Obesidad</td>
<td style="text-align: right; width: 2cm;">0.8859402</td>
<td style="text-align: right; width: 2cm;">0.8846289</td>
<td style="text-align: right; width: 2cm;">0.7211200</td>
<td style="text-align: right; width: 2cm;">1.1046295</td>
<td style="text-align: right; width: 2cm;">0.9998595</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; background-color: rgba(195, 255, 255, 255) !important;">Renal.C.</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.6086575</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.6079963</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.5072028</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">0.7407646</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0012284</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; background-color: rgba(195, 255, 255, 255) !important;">Tabaquismo</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.4006692</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.3960628</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0696845</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.8755852</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0004086</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; background-color: rgba(195, 255, 255, 255) !important;">Otro.Caso</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.4921446</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.4937257</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.2504800</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.7862214</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0007815</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; background-color: rgba(195, 255, 255, 255) !important;">lambda</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0006380</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0004673</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0001018</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0022736</td>
<td style="text-align: right; width: 2cm; background-color: rgba(195, 255, 255, 255) !important;">1.0002965</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</div>
</section>
<section id="modelo-weibull" class="slide level2 smaller">
<h2>Modelo Weibull</h2>
<ul>
<li class="fragment"><p>La distribución de Weibull suele ser parametrizada como: <span class="math display">\[
\mathcal{W}eibull(\alpha, \sigma) = \frac{\alpha}{\sigma} \left( \frac{t}{\sigma} \right)^{\alpha - 1} \exp \left( - \left( \frac{t}{\sigma} \right)^{\alpha} \right), \quad t &gt; 0, \alpha &gt; 0, \sigma &gt; 0.
\]</span></p></li>
<li class="fragment"><p>En sobrevivencia se suele cambiar la parametrización a <span class="math inline">\(\gamma = \frac{1}{\sigma^\alpha}\)</span> y por facilitar la estimación se usará la parametrización <span class="math inline">\(\lambda = \log(\gamma)\)</span>. Entonces la función de riesgo se define como: <span class="math display">\[
h(t|x) =
\alpha t^{\alpha - 1} \exp(\lambda + x^t\beta)
\]</span></p></li>
<li class="fragment"><p>Esta modificación permite que el algoritmo de muestreo de HMC explore mejor el espacio de parámetros y que la estimación de <span class="math inline">\(\alpha\)</span> sea más estable.</p></li>
</ul>
</section>
<section id="modelo-weibull-1" class="slide level2 smaller">
<h2>Modelo Weibull</h2>
<ul>
<li class="fragment"><p>La verosimilitud del modelo Weibull se define como: <span class="math display">\[\begin{align*}
\mathcal{L}(\alpha, \lambda, \beta | t, x) &amp;= \prod_{i=1}^n \left[ \alpha t_i^{\alpha - 1} \exp (\lambda + x_i^T \beta) \exp (- \exp (\lambda + x_i^T \beta) t_i^\alpha) \right] ^{\nu_i} \left[ \exp (-\exp(\lambda + x_i^T \beta) t_i^\alpha) \right] ^{1 - \nu_i} \\
&amp;= \alpha^{\sum_{i=1}^n \nu_i} \prod_{i=1}^n \left( t_i^{\nu_i (\alpha- 1)} \right) \exp \left( \sum_{i=1}^n \nu_i (\lambda + x_i^T \beta) \right) \exp \left( -\sum_{i=1}^n t_i^\alpha \exp( \lambda + x_i^T \beta) \right) \\
\end{align*}\]</span></p></li>
<li class="fragment"><p>Nuestros priors son:</p>
<ul>
<li class="fragment"><span class="math inline">\(\lambda \sim \mathcal{N}(10, 5)\)</span>.</li>
<li class="fragment"><span class="math inline">\(\alpha \sim \mathcal{G}amma(1, 1)\)</span>.</li>
<li class="fragment"><span class="math inline">\(\beta \sim \mathcal{N}_n (0, \sigma^2 I_n),  \quad \sigma  =  3\)</span>.</li>
</ul></li>
<li class="fragment"><p>Dada la relación entre <span class="math inline">\(\lambda\)</span> y <span class="math inline">\(\gamma\)</span> se puede decir que <span class="math inline">\(\gamma \sim \mathcal{L}og\mathcal{N}ormal(10, 5)\)</span>.</p></li>
</ul>
</section>
<section id="resultados-del-modelo-weibull" class="slide level2 smaller scrollable">
<h2>Resultados del Modelo Weibull</h2>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Resumen</a></li><li><a href="#tabset-4-2">Cadenas</a></li><li><a href="#tabset-4-3">Posteriores</a></li><li><a href="#tabset-4-4">Correlación</a></li><li><a href="#tabset-4-5">Curva de Sobrevivencia</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">

</div>
<div id="tabset-4-2">
<div id="fig-chains-weibull" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-chains-weibull-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/weibull_model_img/chains.png" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-chains-weibull-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;19: Cadenas del Modelo Weibull.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-4-3">
<div id="fig-post-weibull" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-post-weibull-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/weibull_model_img/posterior_marginal.png" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-post-weibull-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;20: Posteriores Marginales del Modelo Weibull.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-4-4">
<div id="fig-cor-weibull" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-cor-weibull-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/weibull_model_img/param_corr.png" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cor-weibull-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;21: Correlación Posterior del Modelo Weibull.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-4-5">
<div id="fig-surv-weibull" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-surv-weibull-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/weibull_model_img/curv_surv_post.jpg" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-surv-weibull-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;22: Curvas de Sobrevivencia Posteriores del Modelo Weibull.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="modelo-semiparamétrico" class="slide level2 smaller">
<h2>Modelo Semiparamétrico</h2>
<div>
<ul>
<li><p>En los modelos semiparamétricos no se asume una forma funcional para la función de riesgo base.</p></li>
<li><p>Para el modelo se usan particiones del tiempo y por cada intervalo de tiempo <span class="math inline">\(t_j\)</span> se asume un riesgo constante <span class="math inline">\(\lambda_i, i = 1, \ldots, J\)</span>.</p></li>
<li><p>Las particiones del tiempo se definieron en función de los cuantiles de los tiempos no censurados, definiendo 9 intervalos de tiempo:</p></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="width: auto !important;  margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;"></th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">t_ 1</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">t_ 2</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">t_ 3</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">t_ 4</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">t_ 5</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">t_ 6</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">t_ 7</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">t_ 8</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">t_ 9</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Intervalo de Tiempo</td>
<td style="text-align: left; width: 2cm;">(0,3]</td>
<td style="text-align: left;">(3,5]</td>
<td style="text-align: left;">(5,7]</td>
<td style="text-align: left;">(7,9]</td>
<td style="text-align: left;">(9,11]</td>
<td style="text-align: left;">(11,13]</td>
<td style="text-align: left;">(13,16]</td>
<td style="text-align: left;">(16,21]</td>
<td style="text-align: left;">(21, 364]</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Frec. Eventos</td>
<td style="text-align: left; width: 2cm;">111</td>
<td style="text-align: left;">96</td>
<td style="text-align: left;">125</td>
<td style="text-align: left;">101</td>
<td style="text-align: left;">98</td>
<td style="text-align: left;">88</td>
<td style="text-align: left;">98</td>
<td style="text-align: left;">94</td>
<td style="text-align: left;">95</td>
</tr>
</tbody>
</table>


</div>
</div>
<ul>
<li>Podemos asumir que los riesgos estan correalcionados o no, dado que un modelo que asume correlación contiene al otro como un caso especial, asumiremos que se correlacionan.</li>
</ul>
</div>
</section>
<section id="modelo-semiparamétrico-1" class="slide level2 smaller">
<h2>Modelo Semiparamétrico</h2>
<ul>
<li class="fragment"><p>El modelo semiparamétrico se define como: <span class="math display">\[
h(t_j|x) = \lambda_j \exp(x^t\beta), \quad j = 1, \ldots, J.
\]</span></p></li>
<li class="fragment"><p>Su función de verosimilitud se define como: <span class="math display">\[
\mathcal{L}(\lambda, \beta | t, x) = \prod_{i=1}^n \left[ \prod_{j=1}^J \left( \lambda_j \exp(x_i^t\beta) \right) ^{\delta_{ij}}  \right] \exp \left( - \sum_{j = 1}^{J_i} \lambda_i  t_{ij} \exp (x_i^T \beta) \right).
\]</span> Donde <span class="math inline">\(J_i\)</span> es el último intervalo del individuo en riesgo, <span class="math inline">\(t_{ij} = \min (t_i, s_j) - s_{j-1}\)</span> es el tiempo en el intervalo <span class="math inline">\(j\)</span> y <span class="math inline">\(\delta_{ij}\)</span> es un indicador de si el individuo <span class="math inline">\(i\)</span> fue censurado o no en el intervalo <span class="math inline">\(j\)</span>.</p></li>
</ul>
</section>
<section id="modelo-semiparamétrico-2" class="slide level2 smaller">
<h2>Modelo Semiparamétrico</h2>
<ul>
<li class="fragment"><p>Los priors son:</p>
<ul>
<li class="fragment"><span class="math inline">\(\beta \sim \mathcal{N}_n (0, \sigma^2 I_n),  \quad \sigma_\beta  =  3\)</span>.</li>
<li class="fragment"><span class="math inline">\(\log (\lambda) \sim \mathcal{N}_J (0, \sigma_\lambda^2 L)\)</span></li>
<li class="fragment"><span class="math inline">\(\sigma_\lambda^2 \sim \mathcal{G}amma(\alpha_\lambda, \beta_\lambda) \quad \alpha_\lambda = 1, \beta_\lambda = 1\)</span>.</li>
<li class="fragment"><span class="math inline">\(L \sim \mathcal{L}\mathcal{K}\mathcal{J} (\eta) \quad \eta = 2\)</span>.</li>
</ul></li>
<li class="fragment"><p>Donde LJK es la distribución Lewandowski-Kurowicka-Joe con parametro <span class="math inline">\(\eta\)</span> que controla el tipo de matriz de correlación con mayor probabilidad <span class="citation" data-cites="lewandowski-2009">(<a href="#/section" role="doc-biblioref" onclick="">Lewandowski et&nbsp;al., 2009</a>)</span>.</p>
<ul>
<li class="fragment">Si <span class="math inline">\(\eta = 1\)</span> la distribución es uniforme sobre las matrices de correlación.</li>
<li class="fragment">Si <span class="math inline">\(\eta &gt; 1\)</span> la densidad de probabilidad es mayor para matrices diagonales.</li>
<li class="fragment">Si <span class="math inline">\(\eta &lt; 1\)</span> la densidad de probabilidad es mayor para matrices de correlación con elementos no diagonales.</li>
</ul></li>
</ul>
</section>
<section id="resultados-del-modelo-semiparamétrico" class="slide level2 smaller scrollable">
<h2>Resultados del Modelo Semiparamétrico</h2>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">Cadenas <span class="math inline">\(\beta\)</span></a></li><li><a href="#tabset-5-2">Cadenas <span class="math inline">\(\lambda\)</span></a></li><li><a href="#tabset-5-3">Posteriores <span class="math inline">\(\beta\)</span></a></li><li><a href="#tabset-5-4">Posteriores <span class="math inline">\(\lambda\)</span></a></li><li><a href="#tabset-5-5">Posteriores <span class="math inline">\(L\)</span></a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div id="fig-chainsbetas-semiparam" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-chainsbetas-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/semiparam_model_img/chains_beta.png" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-chainsbetas-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;23: Cadenas para <span class="math inline">\(\beta\)</span>.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-5-2">
<div id="fig-chainslambda-semiparam" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-chainslambda-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/semiparam_model_img/hazard_base_constants_chains.png" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-chainslambda-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;24: Cadenas para <span class="math inline">\(\lambda\)</span>.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-5-3">
<div id="fig-postbetas-semiparam" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-postbetas-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/semiparam_model_img/betas_posterior.png" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-postbetas-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;25: Posteriores Marginales para <span class="math inline">\(\beta\)</span>.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-5-4">
<div id="fig-postlambda-semiparam" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-postlambda-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/semiparam_model_img/posterior_haz_const.png" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-postlambda-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;26: Posteriores Marginales para <span class="math inline">\(\lambda\)</span>.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-5-5">
<div id="fig-postsigmalambda-semiparam" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-postsigmalambda-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/semiparam_model_img/post_corr_intervals.png" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-postsigmalambda-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;27: Posteriores Marginales para <span class="math inline">\(L\)</span>.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="resultados-del-modelo-semiparamétrico-1" class="slide level2 smaller scrollable">
<h2>Resultados del Modelo Semiparamétrico</h2>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Correlación <span class="math inline">\(\lambda\)</span></a></li><li><a href="#tabset-6-2">Correlación <span class="math inline">\(\beta\)</span></a></li><li><a href="#tabset-6-3">Curva de Sobrevivencia</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<div id="fig-corr-semiparam" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-corr-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/semiparam_model_img/corr_intervals_post_mean.png" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-corr-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;28: Correlación Esperada.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-6-2">
<div id="fig-corrbetas-semiparam" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-corrbetas-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/semiparam_model_img/betas_corr_plot.jpg" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-corrbetas-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;29: Correlación Posterior.
</figcaption>
</figure>
</div>
</div>
<div id="tabset-6-3">
<div id="fig-surv-semiparam" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-surv-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/semiparam_model_img/curves_surv_post.png" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-surv-semiparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;30: Curvas de Sobrevivencia Posteriores.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="comparación-de-modelos" class="slide level2 smaller scrollable">
<h2>Comparación de Modelos</h2>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">LOO-CV</a></li><li><a href="#tabset-7-2">LOOIC</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<div>
<ul>
<li>La comparación de modelos se realizó utilizando la validación cruzada Leave-One-Out (LOO-CV) <span class="citation" data-cites="vehtari-2016 vehtari-2015">(<a href="#/section" role="doc-biblioref" onclick="">Vehtari et&nbsp;al., 2015</a>, <a href="#/section" role="doc-biblioref" onclick="">2016</a>)</span>.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="width: auto !important;  margin-left: auto; margin-right: auto; font-size: 24px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">Estadístico</th>
<th data-quarto-table-cell-role="th" style="text-align: center; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">Modelo Semiparamétrico</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">Modelo Weibull</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: rgba(217, 234, 211, 255) !important;">Modelo Exponencial</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">elpd_diff</td>
<td style="text-align: center;">0.00</td>
<td style="text-align: left;">-630.24</td>
<td style="text-align: left;">-1674.21</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">se_diff</td>
<td style="text-align: center;">0.00</td>
<td style="text-align: left;">43.27</td>
<td style="text-align: left;">61.50</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">elpd_loo</td>
<td style="text-align: center;">-5248.71</td>
<td style="text-align: left;">-5878.95</td>
<td style="text-align: left;">-6922.92</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">se_elpd_loo</td>
<td style="text-align: center;">135.60</td>
<td style="text-align: left;">146.94</td>
<td style="text-align: left;">171.81</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">p_loo</td>
<td style="text-align: center;">23.66</td>
<td style="text-align: left;">18.05</td>
<td style="text-align: left;">24.64</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">se_p_loo</td>
<td style="text-align: center;">0.63</td>
<td style="text-align: left;">0.55</td>
<td style="text-align: left;">0.83</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">looic</td>
<td style="text-align: center;">10497.42</td>
<td style="text-align: left;">11757.90</td>
<td style="text-align: left;">13845.85</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">se_looic</td>
<td style="text-align: center;">271.19</td>
<td style="text-align: left;">293.88</td>
<td style="text-align: left;">343.62</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
<div id="tabset-7-2">
<div id="fig-LOO-CV-P" class="panel-tab quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-LOO-CV-P-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/looic_model_comapration.png" class="panel-tab" height="460">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-LOO-CV-P-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;31: LOOIC
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="referencias" class="title-slide slide level1 smaller center">
<h1>Referencias</h1>

</section>
<section id="section" class="slide level2 smaller scrollable">
<h2></h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-bartos-2022" class="csl-entry" role="listitem">
Bartoš, F., Aust, F., &amp; Haaf, J. M. (2022). <span>Informed Bayesian survival analysis</span>. <em>BMC Medical Research Methodology</em>, <em>22</em>(1). <a href="https://doi.org/10.1186/s12874-022-01676-9">https://doi.org/10.1186/s12874-022-01676-9</a>
</div>
<div id="ref-brooks-2011" class="csl-entry" role="listitem">
Brooks, S., Gelman, A., Jones, G., &amp; Meng, X.-L. (2011). <em><span>Handbook of Markov Chain Monte Carlo</span></em>. <a href="https://doi.org/10.1201/b10905">https://doi.org/10.1201/b10905</a>
</div>
<div id="ref-gelman-2013" class="csl-entry" role="listitem">
Gelman, A., Carlin, J. B., Stern, H. S., Dunson, D. B., Vehtari, A., &amp; Rubin, D. B. (2013). <em><span>Bayesian data analysis</span></em>. <a href="https://doi.org/10.1201/b16018">https://doi.org/10.1201/b16018</a>
</div>
<div id="ref-ibrahim-2001" class="csl-entry" role="listitem">
Ibrahim, J. G., Chen, M.-H., &amp; Sinha, D. (2001). <em><span>Bayesian survival Analysis</span></em>. Springer Science &amp; Business Media.
</div>
<div id="ref-lewandowski-2009" class="csl-entry" role="listitem">
Lewandowski, D., Kurowicka, D., &amp; Joe, H. (2009). <span>Generating random correlation matrices based on vines and extended onion method</span>. <em>Journal of Multivariate Analysis</em>, <em>100</em>(9), 1989-2001. <a href="https://doi.org/10.1016/j.jmva.2009.04.008">https://doi.org/10.1016/j.jmva.2009.04.008</a>
</div>
<div id="ref-muse-2022" class="csl-entry" role="listitem">
Muse, A. H., Ngesa, O., Mwalili, S., Alshanbari, H. M., &amp; El-Bagoury, A.-A. H. (2022). <span>A Flexible Bayesian Parametric Proportional Hazard Model: Simulation and Applications to Right-Censored Healthcare Data</span>. <em>Journal of Healthcare Engineering</em>, <em>2022</em>, 1-28. <a href="https://doi.org/10.1155/2022/2051642">https://doi.org/10.1155/2022/2051642</a>
</div>
<div id="ref-stan2024" class="csl-entry" role="listitem">
Stan Development Team. (2024). <em>Stan Reference Manual</em>. <a href="https://mc-stan.org">https://mc-stan.org</a>
</div>
<div id="ref-vehtari-2015" class="csl-entry" role="listitem">
Vehtari, A., Gelman, A., &amp; Gabry, J. (2015). <span>Pareto smoothed importance sampling</span>. <em>arXiv</em>. <a href="https://doi.org/10.48550/arxiv.1507.02646">https://doi.org/10.48550/arxiv.1507.02646</a>
</div>
<div id="ref-vehtari-2016" class="csl-entry" role="listitem">
Vehtari, A., Gelman, A., &amp; Gabry, J. (2016). <span>Practical Bayesian model evaluation using leave-one-out cross-validation and WAIC</span>. <em>Statistics and Computing</em>, <em>27</em>(5), 1413-1432. <a href="https://doi.org/10.1007/s11222-016-9696-4">https://doi.org/10.1007/s11222-016-9696-4</a>
</div>
</div>

</section></section>
<section id="footnotes" class="footnotes footnotes-end-of-document smaller scrollable" role="doc-endnotes"><h2>Notas</h2>

<ol>
<li id="fn1"><p>Sitio web: <a href="https://www.gob.mx/salud/documentos/datos-abiertos-152127">https://www.gob.mx/salud/documentos/datos-abiertos-152127</a></p></li>
<li id="fn2"><p>Confirmados por prueba PCR o por comite experto</p></li>
</ol>
</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="img\logo-iimas.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="presentación_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="presentación_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="presentación_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="presentación_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="presentación_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="presentación_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="presentación_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="presentación_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="presentación_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="presentación_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'convex',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copiado");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copiado");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>